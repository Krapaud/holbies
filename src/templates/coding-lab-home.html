{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/coding-lab.css">
<link rel="stylesheet" href="/static/css/coding-lab-home.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="coding-lab-hero">
    <div class="hero-content">
        <div class="hero-text">
            <h1 class="hero-title">üöÄ Coding Lab</h1>
            <p class="hero-subtitle">
                Ma√Ætrisez la programmation avec notre plateforme d'apprentissage interactive moderne,
                inspir√©e des meilleures pratiques p√©dagogiques. Codez, testez et progressez √† votre rythme.
            </p>

            <ul class="hero-features">
                <li>
                    <i class="fas fa-code icon"></i>
                    <span>√âditeur de code int√©gr√© avec coloration syntaxique</span>
                </li>
                <li>
                    <i class="fas fa-check-circle icon"></i>
                    <span>Tests automatiques pour valider votre code</span>
                </li>
                <li>
                    <i class="fas fa-lightbulb icon"></i>
                    <span>Indices intelligents et explications d√©taill√©es</span>
                </li>
                <li>
                    <i class="fas fa-trophy icon"></i>
                    <span>Syst√®me de points et achievements</span>
                </li>
                <li>
                    <i class="fas fa-users icon"></i>
                    <span>Suivi de progression personnalis√©</span>
                </li>
            </ul>

            <div class="hero-cta">
                <a href="/coding-lab" class="btn btn-primary btn-lg">
                    <i class="fas fa-play"></i>
                    Commencer maintenant
                </a>
                <a href="#features" class="btn btn-outline btn-lg">
                    <i class="fas fa-info-circle"></i>
                    En savoir plus
                </a>
            </div>
        </div>

        <div class="hero-demo">
            <div class="demo-window">
                <div class="demo-header">
                    <div class="demo-dots">
                        <div class="demo-dot red"></div>
                        <div class="demo-dot yellow"></div>
                        <div class="demo-dot green"></div>
                    </div>
                    <div class="demo-title">exercise_1.py</div>
                </div>
                <div class="demo-code">
                    <div class="typing-animation">
<span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">fibonacci</span>(n):
    <span style="color: #6a9955;"># G√©n√®re les n premiers nombres de Fibonacci</span>
    <span style="color: #569cd6;">if</span> n <= <span style="color: #b5cea8;">0</span>:
        <span style="color: #569cd6;">return</span> []
    <span style="color: #569cd6;">elif</span> n == <span style="color: #b5cea8;">1</span>:
        <span style="color: #569cd6;">return</span> [<span style="color: #b5cea8;">0</span>]

    suite = [<span style="color: #b5cea8;">0</span>, <span style="color: #b5cea8;">1</span>]
    <span style="color: #569cd6;">for</span> i <span style="color: #569cd6;">in</span> <span style="color: #dcdcaa;">range</span>(<span style="color: #b5cea8;">2</span>, n):
        suite.append(suite[i-<span style="color: #b5cea8;">1</span>] + suite[i-<span style="color: #b5cea8;">2</span>])

    <span style="color: #569cd6;">return</span> suite

<span style="color: #6a9955;"># Test de la fonction</span>
<span style="color: #dcdcaa;">print</span>(fibonacci(<span style="color: #b5cea8;">10</span>))
<span style="color: #6a9955;"># Sortie: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<section id="features" class="features-section">
    <div class="features-container">
        <h2 class="features-title">Pourquoi choisir notre Coding Lab ?</h2>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3 class="feature-title">Apprentissage Intelligent</h3>
                <p class="feature-description">
                    Notre IA adapte les exercices √† votre niveau et propose des d√©fis personnalis√©s
                    pour maximiser votre apprentissage.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h3 class="feature-title">Progression Rapide</h3>
                <p class="feature-description">
                    Apprenez en pratiquant avec des exercices interactifs qui vous font progresser
                    rapidement de d√©butant √† expert.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-code-branch"></i>
                </div>
                <h3 class="feature-title">Projets R√©els</h3>
                <p class="feature-description">
                    Travaillez sur des projets concrets qui simulent des situations r√©elles
                    de d√©veloppement logiciel.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-users-cog"></i>
                </div>
                <h3 class="feature-title">Communaut√© Active</h3>
                <p class="feature-description">
                    Rejoignez une communaut√© de d√©veloppeurs passionn√©s, partagez vos solutions
                    et apprenez des autres.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3 class="feature-title">Suivi D√©taill√©</h3>
                <p class="feature-description">
                    Visualisez votre progression avec des statistiques d√©taill√©es et des
                    recommandations personnalis√©es.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">Multi-plateforme</h3>
                <p class="feature-description">
                    Codez partout, sur desktop, tablette ou mobile. Votre progression
                    est synchronis√©e sur tous vos appareils.
                </p>
            </div>
        </div>
    </div>
</section>

<section class="stats-section">
    <div class="stats-container">
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-number" data-count="50">0</span>
                <span class="stat-label">Exercices Interactifs</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-count="5">0</span>
                <span class="stat-label">Langages Support√©s</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-count="1000">0</span>
                <span class="stat-label">√âtudiants Actifs</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-count="95">0</span>
                <span class="stat-label">% de R√©ussite</span>
            </div>
        </div>
    </div>
</section>

<section class="cta-section">
    <div class="cta-container">
        <h2 class="cta-title">Pr√™t √† commencer votre aventure coding ?</h2>
        <p class="cta-subtitle">
            Rejoignez des milliers d'√©tudiants qui ont d√©j√† transform√© leur passion en comp√©tences
            professionnelles gr√¢ce √† notre plateforme d'apprentissage interactive.
        </p>
        <div class="hero-cta">
            <a href="/coding-lab" class="btn btn-primary btn-lg">
                <i class="fas fa-rocket"></i>
                D√©marrer gratuitement
            </a>
            <a href="/register" class="btn btn-outline btn-lg">
                <i class="fas fa-user-plus"></i>
                Cr√©er un compte
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// Animation des statistiques
function animateNumbers() {
    const statNumbers = document.querySelectorAll('.stat-number');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const target = entry.target;
                const targetValue = parseInt(target.dataset.count);
                let current = 0;
                const increment = targetValue / 100;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= targetValue) {
                        current = targetValue;
                        clearInterval(timer);
                    }
                    target.textContent = Math.floor(current);
                }, 20);
                observer.unobserve(target);
            }
        });
    });

    statNumbers.forEach(num => observer.observe(num));
}

// Animation de typing pour le code
function setupTypingAnimation() {
    const codeBlock = document.querySelector('.typing-animation');
    if (!codeBlock) return;

    const text = codeBlock.innerHTML;
    codeBlock.innerHTML = '';

    let i = 0;
    function typeWriter() {
        if (i < text.length) {
            codeBlock.innerHTML = text.slice(0, i) + '<span class="cursor">|</span>';
            i++;
            setTimeout(typeWriter, 50);
        } else {
            setTimeout(() => {
                codeBlock.innerHTML = text;
                setTimeout(() => {
                    i = 0;
                    codeBlock.innerHTML = '';
                    setTimeout(typeWriter, 1000);
                }, 3000);
            }, 2000);
        }
    }

    setTimeout(typeWriter, 1000);
}

// Smooth scrolling pour les liens d'ancrage
function setupSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}

// Initialisation
document.addEventListener('DOMContentLoaded', () => {
    animateNumbers();
    setupTypingAnimation();
    setupSmoothScrolling();
});
</script>
{% endblock %}
