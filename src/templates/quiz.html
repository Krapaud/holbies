{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/style.css">
{% endblock %}

{% block content %}
<section class="quiz-section">
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 class="quiz-title">Quiz Technique</h1>
            <div class="quiz-info">
                <span class="quiz-question-counter">
                    <i class="fas fa-list-ol"></i>
                    Question <span id="current-question">1</span> sur <span id="total-questions">10</span>
                </span>
                <span class="quiz-timer" id="timer">
                    <i class="fas fa-clock"></i>
                    00:00
                </span>
            </div>
        </div>
        
        <div class="quiz-progress">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <div class="quiz-content" id="quiz-content">
            <!-- Quiz Start Screen -->
            <div class="quiz-start" id="quiz-start">
                <div class="start-info">
                    <h2><i class="fas fa-brain"></i> Pr√™t √† tester vos connaissances ?</h2>
                    <div class="quiz-rules">
                        <h3><i class="fas fa-info-circle"></i> R√®gles du quiz :</h3>
                        <ul>
                            <li><strong>10 questions</strong> √† choix multiples</li>
                            <li><strong>Une seule r√©ponse</strong> correcte par question</li>
                            <li><strong>Pas de limite</strong> de temps</li>
                            <li><strong>Correction instantan√©e</strong> avec explications</li>
                        </ul>
                    </div>
                    <button class="btn btn-primary btn-large" id="start-quiz-btn">
                        <i class="fas fa-play"></i>
                        Commencer le Quiz
                    </button>
                </div>
            </div>
            
            <!-- Quiz Question -->
            <div class="quiz-question hidden" id="quiz-question">
                <div class="question-content">
                    <h2 class="question-text" id="question-text"></h2>
                    <div class="question-options" id="question-options">
                        <!-- Options will be inserted here -->
                    </div>
                    <button class="btn btn-primary" id="submit-answer-btn" disabled>
                        <i class="fas fa-check"></i>
                        Valider ma r√©ponse
                    </button>
                </div>
            </div>
            
            <!-- Quiz Results -->
            <div class="quiz-results hidden" id="quiz-results">
                <div class="results-content">
                    <h2><i class="fas fa-trophy"></i> R√©sultats du Quiz</h2>
                    <div class="score-display">
                        <div class="score-circle">
                            <span class="score-value" id="score-value">0</span>
                            <span class="score-total">/ 10</span>
                        </div>
                        <div class="score-percentage" id="score-percentage">0%</div>
                    </div>
                    <div class="results-details" id="results-details">
                        <!-- Results details will be inserted here -->
                    </div>
                    <div class="results-actions">
                        <button class="btn btn-primary" id="retake-quiz-btn">
                            <i class="fas fa-redo"></i>
                            Refaire le Quiz
                        </button>
                                                <a href="/profile" class="btn btn-secondary">
                            üè†
                            Voir le Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Answer Feedback Modal -->
<div class="modal hidden" id="answer-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modal-title">
                <i class="fas fa-lightbulb"></i>
                R√©sultat
            </h3>
            <button class="modal-close" id="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="answer-feedback" id="answer-feedback">
                <!-- Feedback content will be inserted here -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" id="next-question-btn">
                <i class="fas fa-arrow-right"></i>
                Question Suivante
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for_static('/js/quiz.js') }}"></script>
{% endblock %}
