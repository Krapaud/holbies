{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/style.css">
{% endblock %}

{% block content %}
<section class="dashboard-section">
    <div class="dashboard-container">
        <div class="dashboard-header">
            <h1 class="dashboard-title">Dashboard</h1>
            <div class="user-info" id="user-info">
                <span class="user-welcome">Bienvenue, <span id="username">User</span></span>
            </div>
        </div>
        
        <div class="dashboard-grid">
            <!-- Stats Cards -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon">🎯</div>
                    <div class="stat-content">
                        <div class="stat-value" id="total-quizzes">0</div>
                        <div class="stat-label">Quiz Complétés</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">📊</div>
                    <div class="stat-content">
                        <div class="stat-value" id="average-score">0%</div>
                        <div class="stat-label">Score Moyen</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">🏆</div>
                    <div class="stat-content">
                        <div class="stat-value" id="best-score">0%</div>
                        <div class="stat-label">Meilleur Score</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">⚡</div>
                    <div class="stat-content">
                        <div class="stat-value" id="streak">0</div>
                        <div class="stat-label">Série en Cours</div>
                    </div>
                </div>
            </div>
            
            <!-- Performance Chart -->
            <div class="chart-container">
                <h3>Performance au Fil du Temps</h3>
                <div class="chart" id="performance-chart">
                    <canvas id="chart-canvas"></canvas>
                </div>
            </div>
            
            <!-- Recent Quiz Sessions -->
            <div class="recent-sessions">
                <h3>Sessions Récentes</h3>
                <div class="sessions-list" id="sessions-list">
                    <!-- Sessions will be loaded here -->
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Actions Rapides</h3>
                <div class="actions-grid">
                    <a href="/quiz" class="action-card">
                        <div class="action-icon">🚀</div>
                        <div class="action-text">Nouveau Quiz</div>
                    </a>
                    <button class="action-card" id="reset-progress">
                        <div class="action-icon">🔄</div>
                        <div class="action-text">Réinitialiser</div>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for_static('/js/dashboard.js') }}"></script>
{% endblock %}
