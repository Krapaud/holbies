{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/style.css">
{% endblock %}

{% block content %}
<div class="learning-container">
            
    <!-- En-t√™te principal -->
    <div class="learning-header">
        <h1>üéì Learning Hub</h1>
        <p class="learning-subtitle">Choisissez votre mode d'apprentissage et testez vos connaissances</p>
    </div>
    
    <!-- Section d'information g√©n√©rale -->
    <div class="learning-info-section">
        <div class="info-grid">
            <div class="info-item">
                <span class="info-icon">üìä</span>
                <h3 class="info-title">Suivi des Progr√®s</h3>
                <p class="info-description">Suivez vos performances et identifiez vos points d'am√©lioration</p>
            </div>
            <div class="info-item">
                <span class="info-icon">üéØ</span>
                <h3 class="info-title">Apprentissage Adaptatif</h3>
                <p class="info-description">Deux modes d'apprentissage pour diff√©rents styles d'√©tude</p>
            </div>
            <div class="info-item">
                <span class="info-icon">üöÄ</span>
                <h3 class="info-title">Am√©lioration Continue</h3>
                <p class="info-description">Feedback d√©taill√© pour progresser efficacement</p>
            </div>
        </div>
    </div>
    
    <!-- S√©lecteur de mode d'apprentissage -->
    <div class="learning-mode-selector">
        <div class="mode-card" data-mode="quiz">
            <span class="mode-icon">üìù</span>
            <h3 class="mode-title">Quiz Classique</h3>
            <p class="mode-description">Questions √† choix multiples avec correction instantan√©e</p>
            <ul class="mode-features">
                <li>10 questions techniques</li>
                <li>Choix multiples</li>
                <li>Correction imm√©diate</li>
                <li>Explications d√©taill√©es</li>
                <li>Score en temps r√©el</li>
            </ul>
        </div>
        
        <div class="mode-card" data-mode="ai-quiz">
            <span class="mode-icon">ü§ñ</span>
            <h3 class="mode-title">PLD (Peer Learning Day)</h3>
            <p class="mode-description">R√©ponses libres corrig√©es par intelligence artificielle</p>
            <ul class="mode-features">
                <li>R√©ponses en texte libre</li>
                <li>Correction IA avanc√©e</li>
                <li>Bonus termes techniques</li>
                <li>Feedback personnalis√©</li>
                <li>Analyse s√©mantique</li>
            </ul>
        </div>
    </div>
    
    <!-- Zone de contenu dynamique -->
    <div class="learning-content">
        
        <!-- Mode Quiz Classique -->
        <div class="quiz-mode" id="quiz-mode">
            <div class="mode-switcher">
                <button class="mode-switch-btn active" data-target="quiz">üìù Quiz Classique</button>
                <button class="mode-switch-btn" data-target="ai-quiz">ü§ñ PLD</button>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-header">
                    <h1 class="quiz-title">Quiz Technique</h1>
                    <div class="quiz-info">
                        <span class="quiz-question-counter">Question <span id="current-question">1</span> sur <span id="total-questions">10</span></span>
                        <span class="quiz-timer" id="timer">00:00</span>
                    </div>
                </div>
                
                <div class="quiz-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
                
                <div class="quiz-content" id="quiz-content">
                    <!-- Quiz Start Screen -->
                    <div class="quiz-start" id="quiz-start">
                        <div class="start-info">
                            <h2>Pr√™t √† tester vos connaissances ?</h2>
                            <div class="quiz-rules">
                                <h3>R√®gles du quiz :</h3>
                                <ul>
                                    <li>10 questions √† choix multiples</li>
                                    <li>Une seule r√©ponse correcte par question</li>
                                    <li>Pas de limite de temps</li>
                                    <li>Correction instantan√©e avec explications</li>
                                </ul>
                            </div>
                            <button class="btn btn-primary" id="start-quiz-btn">Commencer le Quiz</button>
                        </div>
                    </div>
                    
                    <!-- Quiz Question -->
                    <div class="quiz-question hidden" id="quiz-question">
                        <div class="question-content">
                            <h2 class="question-text" id="question-text"></h2>
                            <div class="question-options" id="question-options">
                                <!-- Options will be inserted here -->
                            </div>
                            <button class="btn btn-primary" id="submit-answer-btn" disabled>Valider</button>
                        </div>
                    </div>
                    
                    <!-- Quiz Results -->
                    <div class="quiz-results hidden" id="quiz-results">
                        <div class="results-content">
                            <h2>R√©sultats du Quiz</h2>
                            <div class="score-display">
                                <div class="score-circle">
                                    <span class="score-value" id="score-value">0</span>
                                    <span class="score-total">/ 10</span>
                                </div>
                                <div class="score-percentage" id="score-percentage">0%</div>
                            </div>
                            <div class="results-details" id="results-details">
                                <!-- Results details will be inserted here -->
                            </div>
                            <div class="results-actions">
                                <button class="btn btn-primary" id="retake-quiz-btn">Refaire le Quiz</button>
                                <a href="/dashboard" class="btn btn-secondary">Voir le Dashboard</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mode AI Quiz (PLD) -->
            <div class="ai-quiz-mode" id="ai-quiz-mode">
                <div class="mode-switcher">
                    <button class="mode-switch-btn" data-target="quiz">üìù Quiz Classique</button>
                    <button class="mode-switch-btn active" data-target="ai-quiz">ü§ñ PLD</button>
                </div>
                
                <!-- Contenu du PLD (repris de ai-quiz.html) -->
                <!-- √âcran de d√©marrage PLD -->
                <section id="ai-quiz-start" class="quiz-section">
                    <div class="quiz-header">
                        <h1 class="glitch" data-text="PLD">PLD</h1>
                        <p class="quiz-subtitle">Peer Learning Day</p>
                    </div>
                    
                    <div class="ai-start-info">
                        <h3>üß† Comment fonctionne le PLD ?</h3>
                        <ul>
                            <li><strong>R√©ponses libres :</strong> R√©pondez avec vos propres mots en texte libre</li>
                            <li><strong>Correction automatique :</strong> L'IA analyse votre r√©ponse et la compare √† la r√©ponse attendue</li>
                            <li><strong>Scoring intelligent :</strong> 70% pour la similarit√©, 30% pour l'usage de termes techniques</li>
                            <li><strong>Bonus technique :</strong> +5 points par terme technique utilis√© correctement</li>
                            <li><strong>Feedback d√©taill√© :</strong> Explication personnalis√©e de votre performance</li>
                        </ul>
                    </div>
                    
                    <div class="quiz-actions">
                        <button id="start-ai-quiz-btn" class="btn btn-primary btn-large">
                            <span>üöÄ Commencer le PLD</span>
                            <div class="btn-loading"></div>
                        </button>
                    </div>
                    
                    <div class="quiz-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="ai-total-questions">5</div>
                            <div class="stat-label">Questions</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">100</div>
                            <div class="stat-label">Points/Question</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">‚àû</div>
                            <div class="stat-label">Apprentissage</div>
                        </div>
                    </div>
                </section>
                
                <!-- Les autres sections du PLD seraient ajout√©es ici -->
                <!-- ... (sections question, r√©sultats, etc.) ... -->
                
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for_static('/js/learning.js') }}"></script>
{% endblock %}

